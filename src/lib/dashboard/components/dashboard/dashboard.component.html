<div class="main-panel" fxLayout="column">
  <section class="section-statistic">
    <div class="row" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="15px" fxFlex>
      <mat-card class="card" *ngFor="let statis of dashboardService.statistics" fxFlex>
        <div class="card-body">
          <div fxFlex="25" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="10px" fxFlex>
            <div class="icon-lg" fxFlex>
              <mat-icon *ngIf="statis.title==='visit'" class="perm_identity">perm_identity</mat-icon>
              <mat-icon *ngIf="statis.title==='upload'" class="cloud_upload">cloud_upload</mat-icon>
              <mat-icon *ngIf="statis.title==='download'" class="cloud_download">cloud_download</mat-icon>
              <mat-icon *ngIf="statis.title==='device'" class="devices">devices</mat-icon>
            </div>
            <div fxLayout="column" fxLayoutAlign="space-between end" fxFlex>
              <h3 class="h3-statis">{{ statis.value }}</h3>
              <h5 class="h5-statis">{{ statis.title | titlecase }}s</h5>
            </div>
          </div>
        </div>
      </mat-card>
    </div>
  </section>

  <section class="section-forecaste">
    <div class="row" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="15px" fxFlex>
      <mat-card class="card" fxFlex>
        <div class="card-body">
          <forecast></forecast>
        </div>
      </mat-card>
    </div>
  </section>

  <div class="action" fxLayoutAlign="end center" fxLayoutGap="15px">
    <mat-form-field>
      <input class="input" type="text" matInput [formControl]="locationCtrl" [matAutocomplete]="auto">
      <mat-placeholder class="placeholder">Location</mat-placeholder>
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let location of filteredLocations | async" [value]="location" (click)="onSelectLocation(location)">
          {{ location }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <mat-form-field floatLabel="never">
      <mat-label class="placeholder">Time</mat-label>
      <mat-select>
        <mat-option *ngFor="let range of ranges" [value]="range.id" (click)="onSelectRange(range.id)">{{ range.value }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <section class="section-chart">
    <div class="row" fxLayout="column" fxLayoutGap="15px" fxFlex>
      <div class="row-item" fxFlex>
        <div class="card" fxFlex>
          <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
            <aqi-chart
              [data]="dashboardService.aqi$"
              [title]="'Air Quality Index Statistics'"
              [titleYAxis]="'AQI'">
            </aqi-chart>
          </div>
        </div>
      </div>

      <div class="row-item" fxFlex>
        <div class="card" fxFlex>
          <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
            <temp-chart
              [data]="dashboardService.temperature$"
              [title]="'Temperature Statistics'"
              [titleYAxis]="'°C'">
            </temp-chart>
          </div>
        </div>
      </div>

      <div class="row-item" fxFlex>
        <div class="card" fxFlex>
          <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
            <humi-chart
              [data]="dashboardService.humidity$"
              [title]="'Humidity Statistics'"
              [titleYAxis]="'%'">
            </humi-chart>
          </div>
        </div>
      </div>
    </div>
  </section>

</div>

<!-- <section class="section-chart">
  <div class="row" fxLayout="row" fxLayoutGap="15px" fxFlex>
    <div class="row-item" fxFlex="60">
      <div class="card" fxFlex>
        <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
          <d3-chart
            [data]="dashboardService.aqi$"
            [title]="'Air Quality Index Statistics'"
            [titleYAxis]="'AQI'">
          </d3-chart>
        </div>
      </div>
    </div>

    <div class="row-item" fxFlex fxLayout="column" fxLayoutGap="15px">
      <div class="card" fxFlex="50">
        <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
          <d3-chart
            [data]="dashboardService.temperature$"
            [title]="'Temperature Statistics'"
            [titleYAxis]="'°C'">
          </d3-chart>
        </div>
      </div>

      <div class="card" fxFlex>
        <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
          <d3-chart
            [data]="dashboardService.humidity$"
            [title]="'Humidity Statistics'"
            [titleYAxis]="'%'">
          </d3-chart>
        </div>
      </div>
    </div>
  </div>
</section> -->