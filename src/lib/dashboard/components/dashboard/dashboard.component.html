<div class="main-panel" fxLayout="column">
  <section class="section-statistic">
    <div class="row" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="15px" fxFlex>
      <mat-card class="card" *ngFor="let statis of dashboardService.statistics" fxFlex>
        <div class="card-body">
          <div fxFlex="25" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="10px" fxFlex>
            <div class="icon-lg" fxFlex>
              <mat-icon *ngIf="statis.title==='visit'" class="perm_identity">perm_identity</mat-icon>
              <mat-icon *ngIf="statis.title==='upload'" class="cloud_upload">cloud_upload</mat-icon>
              <mat-icon *ngIf="statis.title==='download'" class="cloud_download">cloud_download</mat-icon>
              <mat-icon *ngIf="statis.title==='device'" class="devices">devices</mat-icon>
            </div>
            <div fxLayout="column" fxLayoutAlign="space-between end" fxFlex>
              <h3 class="h3-statis">{{ statis.value }}</h3>
              <h5 class="h5-statis">{{ statis.title | titlecase }}s</h5>
            </div>
          </div>
        </div>
      </mat-card>
    </div>
  </section>

  <section class="section-forecaste">
    <div class="row" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="15px" fxFlex>
      <mat-card class="card" fxFlex>
        <div class="card-body">
          <forecast></forecast>
        </div>
      </mat-card>
    </div>
  </section>

  <div class="action" fxLayoutAlign="end center" fxLayoutGap="15px">
    <mat-form-field>
      <input class="input" type="text" matInput [formControl]="locationCtrl" [matAutocomplete]="auto">
      <mat-placeholder class="placeholder">Location</mat-placeholder>
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let location of filteredLocations | async" [value]="location" (click)="onSelectLocation(location)">
          {{ location }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <mat-form-field floatLabel="never">
      <mat-label class="placeholder">Time</mat-label>
      <mat-select>
        <mat-option *ngFor="let range of ranges" [value]="range.id" (click)="onSelectRange(range.id)">{{ range.value }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <section class="section-chart">
    <div class="row" fxLayout="row" fxLayoutGap="15px" fxFlex>
      <div class="row-item" fxFlex="60">
        <div class="card" fxFlex>
          <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch" fxFlex>
            <!-- <h4 class="h4-title">Air Quality Index Statistics</h4> -->
            <div fxFlex></div>
            <!-- D3 chart -->
            <d3-chart [data]="data"></d3-chart>
          </div>
        </div>
      </div>

      <div class="row-item" fxFlex fxLayout="column" fxLayoutGap="15px">
        <div class="card" fxFlex="50">
          <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
            <h4 class="h4-title">Temperature Statistics</h4>
            <div fxFlex></div>
          </div>
        </div>

        <div class="card" fxFlex>
          <div class="card-body" fxFlex fxLayout="column" fxLayoutAlign="center stretch">
            <h4 class="h4-title">Humidity Statistics</h4>
            <div fxFlex></div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
